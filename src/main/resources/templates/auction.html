<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title>AUCTION</title>
		<link type="text/css" rel="stylesheet" href="/css/own.css">
		<link type="text/css" rel="stylesheet" href="/wallet.css">
		<script type="text/javascript" src="/css/jquery-3.5.1.min.js"></script>
		<script type="text/javascript">
			window.onload = function() {
				var b_buy = document.getElementById("buy");
				var b_sale = document.getElementById("sale");
				b_buy.onmouseover = onMouseOver();
				b_sale.onmouseover = onMouseOver();
				b_buy.onclick = function() {
					document.getElementById("buy_box").style.display = "block";
					document.getElementById("sale_box").style.display = "none";
					buy.style.borderBottom = "1px solid black";
					sale.style.borderBottom = "";
				};
				b_sale.onclick = function() {
					document.getElementById("buy_box").style.display = "none";
					document.getElementById("sale_box").style.display = "block";
					buy.style.borderBottom = "";
					sale.style.borderBottom = "1px solid black";
				};

				function onMouseOver() {
					buy.style.cursor = "pointer";
					sale.style.cursor = "pointer";
				}

				/* function bind(obj, eventStr, callback) {
					if (obj.addEventListener) {
						//大部分浏览器兼容
						obj.addEventListener(eventStr, callback, false);
					} else {
						//IE8及以下
						obj.attachEvent("on" + eventStr, callback);
					}
				} */
			}
		</script>
		<style type="text/css">
			#all_window{ /*整个弹窗的页面*/
				opacity: 0.8; /*透明度*/
				width: 100%; /*宽度*/
				height: 100%; /*高度，不能百分百*/
				background: #000; /*背景色*/
				position: absolute;
				top: 0;
				left: 0; /*定位*/
				display: none; /*隐藏*/
				z-index: 1000; /*覆盖*/
			}
			#window{ /* 弹框的页面*/
				width: 500px; /*宽度*/
				height: auto; /*高度*/
				background: #fff; /*背景色*/
				display: none; /*隐藏*/
				z-index: 1020; /*覆盖*/
				position: absolute;
				top: 200px;
				left: 500px; /* 定位*/
			}
			input{
				margin-bottom: 10px;
			}

		</style>
	</head>
	<body>
		<div class="logo">
			<a th:href="@{/backHome}"><img src="images/logo.png"></a>
		</div>
		<h1>我的拍卖</h1>
		<br>
		<hr>
		<h2>拍卖记录</h2>
		<hr>
		<button id="buy" style="border-bottom: 1px solid black;">拍卖中</button><button id="sale">已拍出</button>
		<table id="buy_box">
			<thead>
				<tr>
					<th>ID</th>
					<th>图片</th>
					<th>藏品名</th>
					<th>作者</th>
					<th>起拍价</th>
					<th>当前价格</th>
					<th>出价最高者</th>
					<th>出价记录</th>
					<th>出价</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td>sadgfasjkdf</td>
					<td>12412</td>
					<td>12412</td>
					<td>12412</td>
					<td>12412</td>
					<td>1</td>
					<td>45345</td>
					<td><a href="#"><img src="images/xiangqing.png" style="width: 25px;height: 25px"></a></td>
					<td><button type="submit" style="border: none;background: none"><a href="#" onclick="bid()"><img src="/images/bid.png" style="width: 25px;height: 25px"></a></button></td>
				</tr>
			</tbody>
		</table>
		<table id="sale_box">
			<thead>
			<tr>
				<th>ID</th>
				<th>图片</th>
				<th>藏品名</th>
				<th>作者</th>
				<th>起拍价</th>
				<th>当前价格</th>
				<th>出价最高者</th>
				<th>出价记录</th>
			</tr>
			</thead>
			<tbody>
			<tr>
				<td>sadgfasjkdf</td>
				<td>12412</td>
				<td>12412</td>
				<td>12412</td>
				<td>12412</td>
				<td>1</td>
				<td>45345</td>
				<td><a href="#"><img src="images/xiangqing.png" style="width: 25px;height: 25px"></a></td>
			</tr>
			</tbody>
		</table>
		<div id="window">
			<form th:action="@{/resell}" method="post">
				<h1>我的出价</h1>
				<label>
					<input id="number" type="hidden" name="id">
				</label>
				<label>
					<input id="price" type="number" name="price" placeholder="请输入价格">
				</label>
				<label>
					<span>&nbsp;</span>
					<button id="send" type="submit">提交</button>
				</label>
			</form>
		</div>
		<div id="all_window">
		</div>
	</body>
	<script>
		function bid(){
			document.getElementById('all_window').style.display = "block";
			document.getElementById('window').style.display = "block";
		}
		$(function (){
			$("#table").on("click", ":button", function(event) {
				$("#number").val( $(this).closest("tr").find("td").eq(0).text());
			});
		})
	</script>
</html>
