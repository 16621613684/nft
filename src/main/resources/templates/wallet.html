<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title>WALLET</title>
		<link type="text/css" rel="stylesheet" href="css/wallet.css">
		<script type="text/javascript" src="/css/jquery-3.5.1.min.js"></script>
		<script type="text/javascript">
			window.onload = function() {
				var b_buy = document.getElementById("buy");
				var b_sale = document.getElementById("sale");
				b_buy.onmouseover = onMouseOver();
				b_sale.onmouseover = onMouseOver();
				b_buy.onclick = function() {
					document.getElementById("buy_box").style.display = "block";
					document.getElementById("sale_box").style.display = "none";
					buy.style.borderBottom = "1px solid black";
					sale.style.borderBottom = "";
				};
				b_sale.onclick = function() {
					document.getElementById("buy_box").style.display = "none";
					document.getElementById("sale_box").style.display = "block";
					buy.style.borderBottom = "";
					sale.style.borderBottom = "1px solid black";
				};

				function onMouseOver() {
					buy.style.cursor = "pointer";
					sale.style.cursor = "pointer";
				}

				/* function bind(obj, eventStr, callback) {
					if (obj.addEventListener) {
						//大部分浏览器兼容
						obj.addEventListener(eventStr, callback, false);
					} else {
						//IE8及以下
						obj.attachEvent("on" + eventStr, callback);
					}
				} */
				$(function() {
					$("#buy_box").on("click", ":button", function(event) {
						//alert($(this).closest("tr").find("td").eq(5).text());
						//$("#number").val($(this).closest("tr").find("td").eq(5).text());
					});
				})
				$(function() {
					$("#sale_box").on("click", ":button", function(event) {
						//alert($(this).closest("tr").find("td").eq(5).text());
						//$("#number").val($(this).closest("tr").find("td").eq(5).text());
					});
				})
			}
		</script>
	</head>
	<body>
		<div class="logo">
			<a th:href="@{/backHome}"><img src="images/logo.png"></a>
		</div>
		<h1>数字钱包</h1>
		<br>
		<hr>
		<div class="balance">可用余额：<span>99999</span>ETH</div>
		<h2>交易记录</h2>
		<hr>
		<button id="buy" style="border-bottom: 1px solid black;">我买到的</button><button id="sale">我卖出的</button>
		<table id="buy_box">
			<thead>
				<tr>
					<th>卖家</th>
					<th>金额</th>
					<th>时间</th>
					<th>藏品名</th>
					<th style="display: none;">订单ID</th>
					<th>订单号</th>

				</tr>
			</thead>
			<tbody>
				<tr th:each="b : ${buyHistory}">
					<td th:text="*{b.sellerName}">sadgfasjkdf</td>
					<td th:text="*{b.change}">12412</td>
					<td th:text="*{b.time}">12412</td>
					<td th:text="*{b.goodsName}">12412</td>
					<td th:text="*{b.orderNo}" style="display: none;">1</td>
					<td><button><a th:href="@{/detail/}+*{b.orderId}" th:text="*{b.orderNo}"></a></button></td>

				</tr>
			</tbody>
		</table>
		<table id="sale_box">
			<thead>
				<tr>
					<th>买家</th>
					<th>金额</th>
					<th>时间</th>
					<th>藏品名</th>
					<th style="display: none;">订单ID</th>
					<th>订单号</th>

				</tr>
			</thead>
			<tbody>
			<tr th:each="b : ${sellHistory}">
				<td th:text="*{b.buyerName}">sadgfasjkdf</td>
				<td th:text="*{b.change}">12412</td>
				<td th:text="*{b.time}">12412</td>
				<td th:text="*{b.goodsName}">12412</td>
				<td th:text="*{b.orderNo}" style="display: none;">1</td>
				<td><button><a th:href="@{/detail/}+*{b.orderId}" th:text="*{b.orderNo}"></a></button></td>

				</tr>
			</tbody>
		</table>
	</body>
</html>